{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/utils/supabase/client.ts"],"sourcesContent":["// import { createBrowserClient } from \"@supabase/ssr\";\r\n\r\n// export function createClient() {\r\n//   return createBrowserClient(\r\n//     process.env.NEXT_PUBLIC_SUPABASE_URL as string,\r\n//     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY as string\r\n//   );\r\n// }\r\n\r\n// import { createClient as createSupabaseClient } from \"@supabase/supabase-js\";\r\n\r\n// const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n// const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n// const supabase = createSupabaseClient(supabaseUrl, supabaseAnonKey);\r\n\r\n// export default supabase;\r\n// utils/supabase/client.ts\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nexport default supabase;\r\n\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,uDAAuD;AAEvD,mCAAmC;AACnC,gCAAgC;AAChC,sDAAsD;AACtD,0DAA0D;AAC1D,OAAO;AACP,IAAI;AAEJ,gFAAgF;AAEhF,6DAA6D;AAC7D,sEAAsE;AAEtE,uEAAuE;AAEvE,2BAA2B;AAC3B,2BAA2B;;;;;AAC3B;;AAEA,MAAM;AACN,MAAM;AAEN,MAAM,WAAW,IAAA,2NAAY,EAAC,aAAa;uCAE5B","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/app/admin/page.tsx"],"sourcesContent":["// // app/admin/page.tsx\r\n// \"use client\";\r\n// import React, { useState } from \"react\";\r\n// import LeadsTable from \"@/components/admin/LeadsTable\";\r\n// import NFOManager from \"@/components/admin/NFOManager\";\r\n// import BondsManager from \"@/components/admin/BondsManager\";\r\n\r\n// export default function AdminPage() {\r\n//   const [tab, setTab] = useState<\"leads\" | \"nfo\" | \"bonds\">(\"leads\");\r\n\r\n//   return (\r\n//     <section className=\"max-w-7xl mx-auto\">\r\n//       <div className=\"mb-6 flex items-center justify-between\">\r\n//         <h1 className=\"text-2xl md:text-3xl font-extrabold text-amber-400\">Admin Panel</h1>\r\n//         <div className=\"flex gap-2\">\r\n//           <button onClick={() => setTab(\"leads\")} className={`px-4 py-2 rounded ${tab===\"leads\" ? \"bg-amber-400 text-slate-900\" : \"border border-white/10\"}`}>Leads</button>\r\n//           <button onClick={() => setTab(\"nfo\")} className={`px-4 py-2 rounded ${tab===\"nfo\" ? \"bg-amber-400 text-slate-900\" : \"border border-white/10\"}`}>Upcoming NFO</button>\r\n//           <button onClick={() => setTab(\"bonds\")} className={`px-4 py-2 rounded ${tab===\"bonds\" ? \"bg-amber-400 text-slate-900\" : \"border border-white/10\"}`}>Bonds</button>\r\n//         </div>\r\n//       </div>\r\n\r\n//       <div>\r\n//         {tab === \"leads\" && <LeadsTable />}\r\n//         {tab === \"nfo\" && <NFOManager />}\r\n//         {tab === \"bonds\" && <BondsManager />}\r\n//       </div>\r\n//     </section>\r\n//   );\r\n// }\r\n\r\n\"use client\";\r\nimport React, { useEffect, useState } from \"react\";\r\n// import { supabase } from \"@/lib/supabase/client\"; // Updated import\r\nimport supabase from \"@/utils/supabase/client\";\r\nimport { motion } from \"framer-motion\";\r\n\r\ntype LeadRow = {\r\n  id: string;\r\n  name: string;\r\n  phone: string;\r\n  email?: string;\r\n  requirement?: string;\r\n  is_contacted?: boolean;\r\n  created_at?: string;\r\n};\r\n\r\nexport default function AdminDashboardPage() {\r\n  const [leads, setLeads] = useState<LeadRow[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    fetchLeads();\r\n  }, []);\r\n\r\n  async function fetchLeads() {\r\n    try {\r\n      setLoading(true);\r\n      const { data, error } = await supabase\r\n        .from('leads')\r\n        .select('*')\r\n        .order('created_at', { ascending: false });\r\n\r\n      if (error) {\r\n        console.error('Error fetching leads:', error);\r\n      } else {\r\n        setLeads(data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error in fetchLeads:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleSignOut() {\r\n    await supabase.auth.signOut();\r\n    // Reload the page to let the middleware handle the redirect to login\r\n    window.location.reload();\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen p-4\">\r\n      <motion.div\r\n        initial={{ opacity: 0, y: 20 }}\r\n        animate={{ opacity: 1, y: 0 }}\r\n        className=\"max-w-7xl mx-auto\"\r\n      >\r\n        <div className=\"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6\">\r\n          <div className=\"flex items-center justify-between mb-6\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-amber-400\">Leads Dashboard</h1>\r\n              <p className=\"text-slate-300 mt-1\">Manage your customer leads</p>\r\n            </div>\r\n            <button\r\n              onClick={handleSignOut}\r\n              className=\"px-4 py-2 rounded-lg border border-white/10 hover:bg-white/5 transition-colors text-slate-300\"\r\n            >\r\n              Sign Out\r\n            </button>\r\n          </div>\r\n\r\n          {/* You can add your stats and table JSX here */}\r\n          {loading ? (\r\n            <p className=\"text-slate-300\">Loading leads...</p>\r\n          ) : (\r\n            <p className=\"text-slate-300\">{leads.length} leads found.</p>\r\n          )}\r\n\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"AAAA,wBAAwB;AACxB,gBAAgB;AAChB,2CAA2C;AAC3C,0DAA0D;AAC1D,0DAA0D;AAC1D,8DAA8D;AAE9D,wCAAwC;AACxC,wEAAwE;AAExE,aAAa;AACb,8CAA8C;AAC9C,iEAAiE;AACjE,8FAA8F;AAC9F,uCAAuC;AACvC,+KAA+K;AAC/K,kLAAkL;AAClL,+KAA+K;AAC/K,iBAAiB;AACjB,eAAe;AAEf,cAAc;AACd,8CAA8C;AAC9C,4CAA4C;AAC5C,gDAAgD;AAChD,eAAe;AACf,iBAAiB;AACjB,OAAO;AACP,IAAI;;;;;;AAGJ;AACA,sEAAsE;AACtE;AACA;AAJA;;;;;AAgBe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,qOAAQ,EAAY,EAAE;IAChD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IAEvC,IAAA,sOAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,IAAI;YACF,WAAW;YACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0JAAQ,CACnC,IAAI,CAAC,SACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;gBAAE,WAAW;YAAM;YAE1C,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,yBAAyB;YACzC,OAAO;gBACL,SAAS,QAAQ,EAAE;YACrB;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,wBAAwB;QACxC,SAAU;YACR,WAAW;QACb;IACF;IAEA,eAAe;QACb,MAAM,0JAAQ,CAAC,IAAI,CAAC,OAAO;QAC3B,qEAAqE;QACrE,OAAO,QAAQ,CAAC,MAAM;IACxB;IAEA,qBACE,kQAAC;QAAI,WAAU;kBACb,cAAA,kQAAC,oMAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAG;YAC7B,SAAS;gBAAE,SAAS;gBAAG,GAAG;YAAE;YAC5B,WAAU;sBAEV,cAAA,kQAAC;gBAAI,WAAU;;kCACb,kQAAC;wBAAI,WAAU;;0CACb,kQAAC;;kDACC,kQAAC;wCAAG,WAAU;kDAAoC;;;;;;kDAClD,kQAAC;wCAAE,WAAU;kDAAsB;;;;;;;;;;;;0CAErC,kQAAC;gCACC,SAAS;gCACT,WAAU;0CACX;;;;;;;;;;;;oBAMF,wBACC,kQAAC;wBAAE,WAAU;kCAAiB;;;;;6CAE9B,kQAAC;wBAAE,WAAU;;4BAAkB,MAAM,MAAM;4BAAC;;;;;;;;;;;;;;;;;;;;;;;AAOxD","debugId":null}}]
}