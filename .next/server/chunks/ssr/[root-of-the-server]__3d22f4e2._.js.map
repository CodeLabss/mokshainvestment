{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/utils/supabase/client.ts"],"sourcesContent":["// import { createBrowserClient } from \"@supabase/ssr\";\r\n\r\n// export function createClient() {\r\n//   return createBrowserClient(\r\n//     process.env.NEXT_PUBLIC_SUPABASE_URL as string,\r\n//     process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY as string\r\n//   );\r\n// }\r\n\r\n// import { createClient as createSupabaseClient } from \"@supabase/supabase-js\";\r\n\r\n// const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\n// const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\n// const supabase = createSupabaseClient(supabaseUrl, supabaseAnonKey);\r\n\r\n// export default supabase;\r\n// utils/supabase/client.ts\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nconst supabase = createClient(supabaseUrl, supabaseAnonKey);\r\n\r\nexport default supabase;\r\n\r\n\r\n\r\n"],"names":[],"mappings":"AAAA,uDAAuD;AAEvD,mCAAmC;AACnC,gCAAgC;AAChC,sDAAsD;AACtD,0DAA0D;AAC1D,OAAO;AACP,IAAI;AAEJ,gFAAgF;AAEhF,6DAA6D;AAC7D,sEAAsE;AAEtE,uEAAuE;AAEvE,2BAA2B;AAC3B,2BAA2B;;;;;AAC3B;;AAEA,MAAM;AACN,MAAM;AAEN,MAAM,WAAW,IAAA,2NAAY,EAAC,aAAa;uCAE5B","debugId":null}},
    {"offset": {"line": 67, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/app/admin/categories/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport  supabase  from \"@/utils/supabase/client\";\r\n\r\ninterface Category {\r\n  id: string;\r\n  name: string;\r\n  is_active: boolean;\r\n  created_at: string;\r\n  updated_at: string;\r\n}\r\n\r\nconst CategoriesPage = () => {\r\n  const [categories, setCategories] = useState<Category[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [newCategory, setNewCategory] = useState({ name: \"\", icon: \"\", description: \"\" });\r\n\r\n  // Fetch categories from Supabase\r\n  const fetchCategories = async () => {\r\n    setLoading(true);\r\n    const { data, error } = await supabase\r\n      .from(\"insurance_categories\")\r\n      .select(\"*\")\r\n      .order(\"created_at\", { ascending: false });\r\n\r\n    if (error) console.error(\"Error fetching categories:\", error.message);\r\n    else setCategories(data || []);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  // Add new category\r\n  const handleAddCategory = async () => {\r\n    if (!newCategory.name) return alert(\"Category name is required\");\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"insurance_categories\")\r\n      .insert([{ ...newCategory }])\r\n      .select();\r\n\r\n    if (error) return alert(error.message);\r\n    setCategories([...(data || []), ...categories]);\r\n    setNewCategory({ name: \"\", icon: \"\", description: \"\" });\r\n  };\r\n\r\n  // Soft delete category\r\n  const handleDeleteCategory = async (id: string) => {\r\n    if (!confirm(\"Are you sure you want to delete this category?\")) return;\r\n\r\n    const { error } = await supabase\r\n      .from(\"insurance_categories\")\r\n      .update({ is_active: false })\r\n      .eq(\"id\", id);\r\n\r\n    if (error) return alert(error.message);\r\n    setCategories(categories.map(cat => (cat.id === id ? { ...cat, is_active: false } : cat)));\r\n  };\r\n\r\n  // Reactivate category\r\n  const handleRestoreCategory = async (id: string) => {\r\n    const { error } = await supabase\r\n      .from(\"insurance_categories\")\r\n      .update({ is_active: true })\r\n      .eq(\"id\", id);\r\n\r\n    if (error) return alert(error.message);\r\n    setCategories(categories.map(cat => (cat.id === id ? { ...cat, is_active: true } : cat)));\r\n  };\r\n\r\n  if (loading) return <div className=\"p-8\">Loading categories...</div>;\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Categories</h2>\r\n\r\n      {/* Add New Category */}\r\n      <div className=\"mb-6 p-4 border rounded-lg bg-white shadow-sm flex flex-col md:flex-row gap-4\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          value={newCategory.name}\r\n          onChange={e => setNewCategory({ ...newCategory, name: e.target.value })}\r\n          className=\"border p-2 rounded-md flex-1\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Icon (optional)\"\r\n          value={newCategory.icon}\r\n          onChange={e => setNewCategory({ ...newCategory, icon: e.target.value })}\r\n          className=\"border p-2 rounded-md flex-1\"\r\n        />\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Description (optional)\"\r\n          value={newCategory.description}\r\n          onChange={e => setNewCategory({ ...newCategory, description: e.target.value })}\r\n          className=\"border p-2 rounded-md flex-1\"\r\n        />\r\n        <button\r\n          onClick={handleAddCategory}\r\n          className=\"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700\"\r\n        >\r\n          Add\r\n        </button>\r\n      </div>\r\n\r\n      {/* Categories Table */}\r\n      <table className=\"w-full border-collapse border border-gray-300 bg-white rounded-lg overflow-hidden\">\r\n        <thead>\r\n          <tr className=\"bg-gray-100\">\r\n            <th className=\"p-2 border\">Name</th>\r\n            <th className=\"p-2 border\">Status</th>\r\n            <th className=\"p-2 border\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {categories.map(cat => (\r\n            <tr key={cat.id} className={cat.is_active ? \"\" : \"bg-gray-100 text-gray-400\"}>\r\n              <td className=\"p-2 border\">{cat.name}</td>\r\n              <td className=\"p-2 border\">{cat.is_active ? \"Active\" : \"Deleted\"}</td>\r\n              <td className=\"p-2 border flex gap-2\">\r\n                {cat.is_active ? (\r\n                  <button\r\n                    onClick={() => handleDeleteCategory(cat.id)}\r\n                    className=\"bg-red-600 text-white px-3 py-1 rounded-md hover:bg-red-700\"\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                ) : (\r\n                  <button\r\n                    onClick={() => handleRestoreCategory(cat.id)}\r\n                    className=\"bg-green-600 text-white px-3 py-1 rounded-md hover:bg-green-700\"\r\n                  >\r\n                    Restore\r\n                  </button>\r\n                )}\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoriesPage;\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAaA,MAAM,iBAAiB;IACrB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,qOAAQ,EAAa,EAAE;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,qOAAQ,EAAC;IACvC,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,qOAAQ,EAAC;QAAE,MAAM;QAAI,MAAM;QAAI,aAAa;IAAG;IAErF,iCAAiC;IACjC,MAAM,kBAAkB;QACtB,WAAW;QACX,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0JAAQ,CACnC,IAAI,CAAC,wBACL,MAAM,CAAC,KACP,KAAK,CAAC,cAAc;YAAE,WAAW;QAAM;QAE1C,IAAI,OAAO,QAAQ,KAAK,CAAC,8BAA8B,MAAM,OAAO;aAC/D,cAAc,QAAQ,EAAE;QAC7B,WAAW;IACb;IAEA,IAAA,sOAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,mBAAmB;IACnB,MAAM,oBAAoB;QACxB,IAAI,CAAC,YAAY,IAAI,EAAE,OAAO,MAAM;QAEpC,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,0JAAQ,CACnC,IAAI,CAAC,wBACL,MAAM,CAAC;YAAC;gBAAE,GAAG,WAAW;YAAC;SAAE,EAC3B,MAAM;QAET,IAAI,OAAO,OAAO,MAAM,MAAM,OAAO;QACrC,cAAc;eAAK,QAAQ,EAAE;eAAM;SAAW;QAC9C,eAAe;YAAE,MAAM;YAAI,MAAM;YAAI,aAAa;QAAG;IACvD;IAEA,uBAAuB;IACvB,MAAM,uBAAuB,OAAO;QAClC,IAAI,CAAC,QAAQ,mDAAmD;QAEhE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,0JAAQ,CAC7B,IAAI,CAAC,wBACL,MAAM,CAAC;YAAE,WAAW;QAAM,GAC1B,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO,OAAO,MAAM,MAAM,OAAO;QACrC,cAAc,WAAW,GAAG,CAAC,CAAA,MAAQ,IAAI,EAAE,KAAK,KAAK;gBAAE,GAAG,GAAG;gBAAE,WAAW;YAAM,IAAI;IACtF;IAEA,sBAAsB;IACtB,MAAM,wBAAwB,OAAO;QACnC,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,0JAAQ,CAC7B,IAAI,CAAC,wBACL,MAAM,CAAC;YAAE,WAAW;QAAK,GACzB,EAAE,CAAC,MAAM;QAEZ,IAAI,OAAO,OAAO,MAAM,MAAM,OAAO;QACrC,cAAc,WAAW,GAAG,CAAC,CAAA,MAAQ,IAAI,EAAE,KAAK,KAAK;gBAAE,GAAG,GAAG;gBAAE,WAAW;YAAK,IAAI;IACrF;IAEA,IAAI,SAAS,qBAAO,kQAAC;QAAI,WAAU;kBAAM;;;;;;IAEzC,qBACE,kQAAC;QAAI,WAAU;;0BACb,kQAAC;gBAAG,WAAU;0BAA0B;;;;;;0BAGxC,kQAAC;gBAAI,WAAU;;kCACb,kQAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,YAAY,IAAI;wBACvB,UAAU,CAAA,IAAK,eAAe;gCAAE,GAAG,WAAW;gCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4BAAC;wBACrE,WAAU;;;;;;kCAEZ,kQAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,YAAY,IAAI;wBACvB,UAAU,CAAA,IAAK,eAAe;gCAAE,GAAG,WAAW;gCAAE,MAAM,EAAE,MAAM,CAAC,KAAK;4BAAC;wBACrE,WAAU;;;;;;kCAEZ,kQAAC;wBACC,MAAK;wBACL,aAAY;wBACZ,OAAO,YAAY,WAAW;wBAC9B,UAAU,CAAA,IAAK,eAAe;gCAAE,GAAG,WAAW;gCAAE,aAAa,EAAE,MAAM,CAAC,KAAK;4BAAC;wBAC5E,WAAU;;;;;;kCAEZ,kQAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;0BAMH,kQAAC;gBAAM,WAAU;;kCACf,kQAAC;kCACC,cAAA,kQAAC;4BAAG,WAAU;;8CACZ,kQAAC;oCAAG,WAAU;8CAAa;;;;;;8CAC3B,kQAAC;oCAAG,WAAU;8CAAa;;;;;;8CAC3B,kQAAC;oCAAG,WAAU;8CAAa;;;;;;;;;;;;;;;;;kCAG/B,kQAAC;kCACE,WAAW,GAAG,CAAC,CAAA,oBACd,kQAAC;gCAAgB,WAAW,IAAI,SAAS,GAAG,KAAK;;kDAC/C,kQAAC;wCAAG,WAAU;kDAAc,IAAI,IAAI;;;;;;kDACpC,kQAAC;wCAAG,WAAU;kDAAc,IAAI,SAAS,GAAG,WAAW;;;;;;kDACvD,kQAAC;wCAAG,WAAU;kDACX,IAAI,SAAS,iBACZ,kQAAC;4CACC,SAAS,IAAM,qBAAqB,IAAI,EAAE;4CAC1C,WAAU;sDACX;;;;;qGAID,kQAAC;4CACC,SAAS,IAAM,sBAAsB,IAAI,EAAE;4CAC3C,WAAU;sDACX;;;;;;;;;;;;+BAfE,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;AA0B3B;uCAEe","debugId":null}}]
}