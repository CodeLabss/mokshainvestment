module.exports=[88833,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(62932),c=a.i(10306),d=a.i(9402),e=a.i(56855),f=a.i(27589);let g=(0,d.createClient)("https://fouathcllogchmgagguq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZvdWF0aGNsbG9nY2htZ2FnZ3VxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyMzIzMTEsImV4cCI6MjA3MjgwODMxMX0.y9rOlWdVGnA-vCflrTys4IEROvp9v18qBd46wRwg2oM");function h(){let[a,d]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("leads"),[v,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)({title:"",description:"",start_date:"",end_date:"",image_file:null}),[D,E]=(0,c.useState)({company_name:"",issue_size:"",interest_rate:"",tenure:"",image_file:null}),[F,G]=(0,c.useState)({bank_name:"",interest_rate:"",tenure:"",image_file:null}),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),[N,O]=(0,c.useState)(!1),[P,Q]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{let{data:{session:a},error:b}=await g.auth.getSession();if(b||!a){window.location.href="/admin/login";return}s(a.user?.email||""),w(!1),await Promise.all([S(),T(),U(),V()])}catch(a){window.location.href="/admin/login"}})()},[]),(0,c.useEffect)(()=>{let{data:{subscription:a}}=g.auth.onAuthStateChange(a=>{"SIGNED_OUT"===a&&(window.location.href="/admin/login")});return()=>a.unsubscribe()},[]);let R=a.filter(a=>{let b=a.name.toLowerCase().includes(x.toLowerCase())||a.phone.includes(x)||a.email&&a.email.toLowerCase().includes(x.toLowerCase())||a.requirement&&a.requirement.toLowerCase().includes(x.toLowerCase())||a.notes&&a.notes.toLowerCase().includes(x.toLowerCase()),c=!z||a.requirement===z;return"leads"===t?!a.is_contacted&&b&&c:"contacted"===t?a.is_contacted&&b&&c:b&&c});if(v)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-300 text-lg",children:"Verifying access..."})]})});if(n&&!v)return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-400 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-slate-300 text-lg",children:"Loading dashboard..."})]})});async function S(){try{o(!0);let{data:a,error:b}=await g.from("leads").select("*").order("created_at",{ascending:!1});b?console.error("Error fetching leads:",b):d(a||[])}catch(a){console.error("Error in fetchLeads:",a)}finally{o(!1),q(!1)}}async function T(){try{let{data:a,error:b}=await g.from("upcoming_nfo").select("*").order("start_date",{ascending:!0});b?console.error("Error fetching NFO data:",b):i(a||[])}catch(a){console.error("Error in fetchNFOData:",a)}}async function U(){try{let{data:a,error:b}=await g.from("bonds_ncd").select("*").order("created_at",{ascending:!1});b?console.error("Error fetching Bonds NCD data:",b):k(a||[])}catch(a){console.error("Error in fetchBondsNCD:",a)}}async function V(){try{let{data:a,error:b}=await g.from("bonds_fd").select("*").order("created_at",{ascending:!1});b?console.error("Error fetching Bonds FD data:",b):m(a||[])}catch(a){console.error("Error in fetchBondsFD:",a)}}async function W(){q(!0),await S(),await T(),await U(),await V()}async function X(b,c){try{let{error:e}=await g.from("leads").update({is_contacted:!c}).eq("id",b);e?console.error("Error updating lead:",e):d(a.map(a=>a.id===b?{...a,is_contacted:!c}:a))}catch(a){console.error("Error toggling contact status:",a)}}let Y=async(a,b)=>{let c=a.name.split(".").pop(),d=`${Math.random().toString(36).substring(2)}_${Date.now()}.${c}`,{data:e,error:f}=await g.storage.from(b).upload(d,a,{cacheControl:"3600",upsert:!1});if(f)throw Error(`Failed to upload image: ${f.message}`);return d},Z=async a=>{if(a.preventDefault(),(()=>{let a=[];return B.title.trim()||a.push("Title is required"),J||B.image_file||a.push("Image is required for new NFOs"),B.image_file&&(["image/jpeg","image/jpg","image/png","image/webp"].includes(B.image_file.type)||a.push("Please upload a valid image (JPEG, PNG, or WebP)"),B.image_file.size>5242880&&a.push("Image size should be less than 5MB")),Q(a),0===a.length})())try{let a;I(!0),Q([]);let b=null;if(B.image_file)try{b=await Y(B.image_file,"nfo-images")}catch(a){Q([`Image upload failed: ${a.message}`]),I(!1);return}else if(J){let a=h.find(a=>a.id===J);b=a?.image_url||null}let c={title:B.title,description:B.description||null,start_date:B.start_date||null,end_date:B.end_date||null,image_url:b};if((a=J?await g.from("upcoming_nfo").update(c).eq("id",J):await g.from("upcoming_nfo").insert([{...c,created_at:new Date().toISOString()}])).error)throw Error(a.error.message);ac(),await T(),alert(J?"NFO updated successfully!":"NFO created successfully!")}catch(a){Q([a.message])}finally{I(!1)}},$=async a=>{if(a.preventDefault(),(()=>{let a=[];return D.company_name.trim()||a.push("Company name is required"),J||D.image_file||a.push("Image is required for new NCDs"),D.image_file&&(["image/jpeg","image/jpg","image/png","image/webp"].includes(D.image_file.type)||a.push("Please upload a valid image (JPEG, PNG, or WebP)"),D.image_file.size>5242880&&a.push("Image size should be less than 5MB")),Q(a),0===a.length})())try{let a;I(!0),Q([]);let b=null;if(D.image_file)try{b=await Y(D.image_file,"bonds-images")}catch(a){Q([`Image upload failed: ${a.message}`]),I(!1);return}else if(J){let a=j.find(a=>a.id===J);b=a?.image_url||null}let c={company_name:D.company_name,issue_size:D.issue_size||null,interest_rate:D.interest_rate?parseFloat(D.interest_rate):null,tenure:D.tenure||null,image_url:b};if((a=J?await g.from("bonds_ncd").update(c).eq("id",J):await g.from("bonds_ncd").insert([{...c,created_at:new Date().toISOString()}])).error)throw Error(a.error.message);ac(),await U(),alert(J?"NCD updated successfully!":"NCD created successfully!")}catch(a){Q([a.message])}finally{I(!1)}},_=async a=>{if(a.preventDefault(),(()=>{let a=[];return F.bank_name.trim()||a.push("Bank name is required"),J||F.image_file||a.push("Image is required for new FDs"),F.image_file&&(["image/jpeg","image/jpg","image/png","image/webp"].includes(F.image_file.type)||a.push("Please upload a valid image (JPEG, PNG, or WebP)"),F.image_file.size>5242880&&a.push("Image size should be less than 5MB")),Q(a),0===a.length})())try{let a;I(!0),Q([]);let b=null;if(F.image_file)try{b=await Y(F.image_file,"bonds-images")}catch(a){Q([`Image upload failed: ${a.message}`]),I(!1);return}else if(J){let a=l.find(a=>a.id===J);b=a?.image_url||null}let c={bank_name:F.bank_name,interest_rate:F.interest_rate?parseFloat(F.interest_rate):null,tenure:F.tenure||null,image_url:b};if((a=J?await g.from("bonds_fd").update(c).eq("id",J):await g.from("bonds_fd").insert([{...c,created_at:new Date().toISOString()}])).error)throw Error(a.error.message);ac(),await V(),alert(J?"FD updated successfully!":"FD created successfully!")}catch(a){Q([a.message])}finally{I(!1)}},aa=(a,b)=>{"nfo"===b?C({title:a.title,description:a.description||"",start_date:a.start_date?a.start_date.split("T")[0]:"",end_date:a.end_date?a.end_date.split("T")[0]:"",image_file:null}):"ncd"===b?E({company_name:a.company_name,issue_size:a.issue_size||"",interest_rate:a.interest_rate?.toString()||"",tenure:a.tenure||"",image_file:null}):"fd"===b&&G({bank_name:a.bank_name,interest_rate:a.interest_rate?.toString()||"",tenure:a.tenure||"",image_file:null}),K(a.id),M(b),O(!0),Q([])},ab=async(a,b)=>{if(confirm("Are you sure you want to delete this item?"))try{let{error:c}=await g.from("nfo"===b?"upcoming_nfo":"ncd"===b?"bonds_ncd":"bonds_fd").delete().eq("id",a);if(c)throw c;"nfo"===b?await T():"ncd"===b?await U():"fd"===b&&await V(),alert("Item deleted successfully!")}catch(a){alert(`Error deleting item: ${a.message||"Please try again."}`)}},ac=()=>{C({title:"",description:"",start_date:"",end_date:"",image_file:null}),E({company_name:"",issue_size:"",interest_rate:"",tenure:"",image_file:null}),G({bank_name:"",interest_rate:"",tenure:"",image_file:null}),K(null),M(null),O(!1),Q([])},ad=a=>{ac(),M(a),O(!0)},ae=(a,b)=>{if(!a)return null;let c=a;c.includes("/")&&(c=c.split("/").pop()||c),c=c.replace(`${b}/`,"");let{data:d}=g.storage.from(b).getPublicUrl(c);return d.publicUrl};async function af(){try{let{error:a}=await g.auth.signOut();a&&console.error("Error signing out:",a.message)}catch(a){console.error("Sign out error:",a)}}let ag=a.length,ah=a.filter(a=>a.is_contacted).length,ai=ag-ah,aj=(()=>{let b={};return a.forEach(a=>{if(a.requirement&&a.requirement.trim()){let c=a.requirement.trim();b[c]=(b[c]||0)+1}}),b})(),ak=Object.entries(aj).sort((a,b)=>b[1]-a[1])[0],al=Object.keys(aj).length,am=Object.keys(aj);return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 pt-20",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[(0,b.jsxs)("div",{className:"mb-4 lg:mb-0",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-amber-400 mb-2",children:"Admin Dashboard"}),(0,b.jsxs)("p",{className:"text-slate-300 text-lg",children:["Welcome back, ",(0,b.jsx)("span",{className:"text-white font-semibold",children:r})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:W,disabled:p,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-slate-300 hover:bg-white/10 transition-colors disabled:opacity-50",children:[(0,b.jsx)(f.FiRefreshCw,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)("button",{onClick:af,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-rose-500/20 border border-rose-500/30 text-rose-400 hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiLogOut,{className:"w-4 h-4"}),"Sign Out"]})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Total Leads"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white mt-2",children:ag})]}),(0,b.jsx)("div",{className:"p-3 bg-amber-500/20 rounded-xl",children:(0,b.jsx)(f.FiUser,{className:"w-6 h-6 text-amber-400"})})]})}),(0,b.jsx)("button",{onClick:()=>u("contacted"),className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 hover:bg-white/10 transition-colors text-left cursor-pointer",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Contacted"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-400 mt-2",children:ah})]}),(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-xl",children:(0,b.jsx)(f.FiCheckCircle,{className:"w-6 h-6 text-green-400"})})]})}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"New Leads"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-amber-400 mt-2",children:ai})]}),(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:(0,b.jsx)(f.FiClock,{className:"w-6 h-6 text-blue-400"})})]})}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Requirements"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-purple-400 mt-2",children:al}),(0,b.jsx)("p",{className:"text-slate-400 text-xs mt-1",children:ak?`Top: ${ak[0]}`:"No data"})]}),(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:(0,b.jsx)(f.FiBarChart2,{className:"w-6 h-6 text-purple-400"})})]})})]}),(0,b.jsxs)("div",{className:"flex space-x-1 mb-8 bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-1 w-full overflow-x-auto",children:[(0,b.jsxs)("button",{onClick:()=>u("leads"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-colors flex-1 min-w-0 ${"leads"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiUser,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsxs)("span",{className:"truncate text-sm",children:["New Leads (",a.filter(a=>!a.is_contacted).length,")"]})]}),(0,b.jsxs)("button",{onClick:()=>u("contacted"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-colors flex-1 min-w-0 ${"contacted"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiCheckCircle,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsxs)("span",{className:"truncate text-sm",children:["Contacted (",ah,")"]})]}),(0,b.jsxs)("button",{onClick:()=>u("nfo"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-colors flex-1 min-w-0 ${"nfo"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiImage,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsxs)("span",{className:"truncate text-sm",children:["NFOs (",h.length,")"]})]}),(0,b.jsxs)("button",{onClick:()=>u("bondsNCD"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-colors flex-1 min-w-0 ${"bondsNCD"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiTrendingUp,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsxs)("span",{className:"truncate text-sm",children:["Bonds NCD (",j.length,")"]})]}),(0,b.jsxs)("button",{onClick:()=>u("bondsFD"),className:`flex items-center justify-center gap-2 px-4 py-3 rounded-xl transition-colors flex-1 min-w-0 ${"bondsFD"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiShield,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsxs)("span",{className:"truncate text-sm",children:["Bonds FD (",l.length,")"]})]})]}),P.length>0&&(0,b.jsxs)("div",{className:"bg-rose-500/20 border border-rose-500/30 rounded-2xl p-4 mb-6",children:[(0,b.jsx)("h3",{className:"text-rose-400 font-semibold mb-2",children:"Error:"}),(0,b.jsx)("ul",{className:"text-rose-300 text-sm list-disc list-inside",children:P.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),(()=>{if(!N&&!L)return null;let a={nfo:{title:J?"Edit NFO":"Add New NFO",onSubmit:Z,fields:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"NFO Title *"}),(0,b.jsx)("input",{type:"text",value:B.title,onChange:a=>C({...B,title:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter NFO title",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image ",!J&&"*"]}),(0,b.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png, image/webp",onChange:a=>{C({...B,image_file:a.target.files?.[0]||null}),Q([])},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-amber-500/20 file:text-amber-400 hover:file:bg-amber-500/30 transition-colors",required:!J}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Required for new NFOs. Max 5MB. Supported: JPEG, PNG, WebP",J&&(0,b.jsx)("span",{className:"text-amber-400 ml-1",children:"(Leave empty to keep current image)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:B.description,onChange:a=>C({...B,description:a.target.value}),rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter NFO description..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:B.start_date,onChange:a=>C({...B,start_date:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-amber-500/50 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:B.end_date,onChange:a=>C({...B,end_date:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-amber-500/50 transition-colors"})]})]})]})},ncd:{title:J?"Edit NCD":"Add New NCD",onSubmit:$,fields:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Company Name *"}),(0,b.jsx)("input",{type:"text",value:D.company_name,onChange:a=>E({...D,company_name:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter company name",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Issue Size"}),(0,b.jsx)("input",{type:"text",value:D.issue_size,onChange:a=>E({...D,issue_size:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., â‚¹500 Cr"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Interest Rate (%)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:D.interest_rate,onChange:a=>E({...D,interest_rate:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 8.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Tenure"}),(0,b.jsx)("input",{type:"text",value:D.tenure,onChange:a=>E({...D,tenure:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 3 years"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image ",!J&&"*"]}),(0,b.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png, image/webp",onChange:a=>{E({...D,image_file:a.target.files?.[0]||null}),Q([])},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-amber-500/20 file:text-amber-400 hover:file:bg-amber-500/30 transition-colors",required:!J}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Required for new NCDs. Max 5MB. Supported: JPEG, PNG, WebP",J&&(0,b.jsx)("span",{className:"text-amber-400 ml-1",children:"(Leave empty to keep current image)"})]})]})]})},fd:{title:J?"Edit FD":"Add New FD",onSubmit:_,fields:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Bank Name *"}),(0,b.jsx)("input",{type:"text",value:F.bank_name,onChange:a=>G({...F,bank_name:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter bank name",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Interest Rate (%)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:F.interest_rate,onChange:a=>G({...F,interest_rate:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 7.2"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Tenure"}),(0,b.jsx)("input",{type:"text",value:F.tenure,onChange:a=>G({...F,tenure:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 1-3 years"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image ",!J&&"*"]}),(0,b.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png, image/webp",onChange:a=>{G({...F,image_file:a.target.files?.[0]||null}),Q([])},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-amber-500/20 file:text-amber-400 hover:file:bg-amber-500/30 transition-colors",required:!J}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Required for new FDs. Max 5MB. Supported: JPEG, PNG, WebP",J&&(0,b.jsx)("span",{className:"text-amber-400 ml-1",children:"(Leave empty to keep current image)"})]})]})]})}}[L];return(0,b.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-amber-400 mb-6",children:a.title}),(0,b.jsxs)("form",{onSubmit:a.onSubmit,className:"space-y-6",children:[a.fields,(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsxs)("button",{type:"submit",disabled:H,className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(f.FiUpload,{className:"w-4 h-4"}),H?"Saving...":J?"Update":"Create"]}),(0,b.jsx)("button",{type:"button",onClick:ac,className:"px-6 py-3 bg-white/5 border border-white/10 text-slate-300 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})})(),("leads"===t||"contacted"===t)&&(0,b.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6 gap-4",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-amber-400",children:["leads"===t?"New Leads":"Contacted Leads"," (",R.length,")"]}),(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(f.FiSearch,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),(0,b.jsx)("input",{type:"text",placeholder:"Search leads...",value:x,onChange:a=>y(a.target.value),className:"pl-10 pr-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors w-full sm:w-64"})]}),al>0&&(0,b.jsxs)("select",{value:z,onChange:a=>A(a.target.value),className:"px-4 py-2 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-amber-500/50 transition-colors",children:[(0,b.jsx)("option",{value:"",children:"All Requirements"}),am.map(a=>(0,b.jsxs)("option",{value:a,children:[a," (",aj[a],")"]},a))]})]})]}),0===R.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiUser,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:x||z?"No matching leads found":"No leads found"}),(0,b.jsx)("p",{className:"text-slate-400",children:x||z?"Try adjusting your search or filter criteria":"leads"===t?"New leads will appear here once customers submit the contact form.":"Contacted leads will appear here once you mark them as contacted."})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/10",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Customer"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Contact"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Requirement"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Date"}),(0,b.jsx)("th",{className:"text-left py-3 px-4 text-slate-400 font-semibold",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:R.map((a,c)=>(0,b.jsxs)(e.motion.tr,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05*c},className:"border-b border-white/5 hover:bg-white/5 transition-colors",children:[(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-semibold text-white",children:a.name}),a.email&&(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.email})]})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("div",{className:"text-slate-300 font-mono",children:a.phone})}),(0,b.jsx)("td",{className:"py-3 px-4",children:a.requirement&&(0,b.jsxs)("div",{className:"max-w-xs",children:[(0,b.jsx)("div",{className:`px-3 py-1 rounded-lg border ${(a=>{let b={Insurance:"bg-blue-500/20 text-blue-400 border-blue-500/30",Mediclaim:"bg-green-500/20 text-green-400 border-green-500/30",Loan:"bg-purple-500/20 text-purple-400 border-purple-500/30","Mutual Funds":"bg-amber-500/20 text-amber-400 border-amber-500/30",SIP:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30","Pension Planning":"bg-pink-500/20 text-pink-400 border-pink-500/30","Child Plans":"bg-cyan-500/20 text-cyan-400 border-cyan-500/30","Wealth Advisory":"bg-orange-500/20 text-orange-400 border-orange-500/30","Tax Saving":"bg-red-500/20 text-red-400 border-red-500/30","Retirement Planning":"bg-teal-500/20 text-teal-400 border-teal-500/30","Health Insurance":"bg-emerald-500/20 text-emerald-400 border-emerald-500/30","Life Insurance":"bg-sky-500/20 text-sky-400 border-sky-500/30","Car Insurance":"bg-violet-500/20 text-violet-400 border-violet-500/30","Home Insurance":"bg-rose-500/20 text-rose-400 border-rose-500/30",Investment:"bg-lime-500/20 text-lime-400 border-lime-500/30",Savings:"bg-fuchsia-500/20 text-fuchsia-400 border-fuchsia-500/30"};if(b[a])return b[a];let c=a.toLowerCase();for(let[a,d]of Object.entries(b))if(c.includes(a.toLowerCase()))return d;return"bg-gray-500/20 text-gray-400 border-gray-500/30"})(a.requirement)}`,children:(0,b.jsx)("span",{className:"truncate",children:a.requirement})}),(0,b.jsxs)("div",{className:"mt-2 p-3 bg-white/5 rounded-lg border border-white/10",children:[(0,b.jsx)("div",{className:"font-semibold text-slate-300 mb-2",children:"Full Requirement:"}),(0,b.jsx)("p",{className:"text-slate-300 text-sm",children:a.requirement}),a.notes&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"font-semibold text-slate-300 mt-3 mb-1",children:"Additional Notes:"}),(0,b.jsx)("p",{className:"text-slate-400 text-sm",children:a.notes})]})]})]})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("div",{className:"text-slate-400 text-sm",children:a.created_at?new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})}),(0,b.jsx)("td",{className:"py-3 px-4",children:(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)("button",{onClick:()=>X(a.id,a.is_contacted||!1),className:`p-2 rounded-lg border transition-colors ${a.is_contacted?"bg-amber-500/20 text-amber-400 border-amber-500/30 hover:bg-amber-500/30":"bg-green-500/20 text-green-400 border-green-500/30 hover:bg-green-500/30"}`,title:a.is_contacted?"Mark as New":"Mark as Contacted",children:a.is_contacted?(0,b.jsx)(f.FiXCircle,{className:"w-4 h-4"}):(0,b.jsx)(f.FiCheckCircle,{className:"w-4 h-4"})})})})]},a.id))})]})})]}),"nfo"===t&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-amber-400",children:["Active NFOs (",h.length,")"]}),(0,b.jsxs)("button",{onClick:()=>ad("nfo"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Create New NFO"]})]}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:0===h.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiImage,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No NFOs found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Create your first NFO to get started."}),(0,b.jsxs)("button",{onClick:()=>ad("nfo"),className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors mx-auto",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Create Your First NFO"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(a=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-colors",children:[a.image_url&&(0,b.jsx)("div",{className:"h-40 bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:ae(a.image_url,"nfo-images")||"",alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-2",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"space-y-1 text-xs text-slate-400 mb-4",children:[(0,b.jsxs)("div",{children:["Start: ",a.start_date?new Date(a.start_date).toLocaleDateString():"TBA"]}),(0,b.jsxs)("div",{children:["End: ",a.end_date?new Date(a.end_date).toLocaleDateString():"TBA"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>aa(a,"nfo"),className:"flex items-center gap-1 px-3 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:[(0,b.jsx)(f.FiEdit,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>ab(a.id,"nfo"),className:"flex items-center gap-1 px-3 py-1 bg-rose-500/20 border border-rose-500/30 text-rose-400 rounded-lg text-xs hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]},a.id))})})]}),"bondsNCD"===t&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-amber-400",children:["Bonds NCD (",j.length,")"]}),(0,b.jsxs)("button",{onClick:()=>ad("ncd"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add New NCD"]})]}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:0===j.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiTrendingUp,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No NCDs found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first NCD to get started."}),(0,b.jsxs)("button",{onClick:()=>ad("ncd"),className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors mx-auto",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add Your First NCD"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(a=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-colors",children:[a.image_url&&(0,b.jsx)("div",{className:"h-40 bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:ae(a.image_url,"bonds-images")||"",alt:a.company_name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-2",children:a.company_name}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-300 mb-4",children:[a.issue_size&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Issue Size:"}),(0,b.jsx)("span",{className:"text-amber-400",children:a.issue_size})]}),a.interest_rate&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Interest Rate:"}),(0,b.jsxs)("span",{className:"text-green-400",children:[a.interest_rate,"%"]})]}),a.tenure&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Tenure:"}),(0,b.jsx)("span",{className:"text-blue-400",children:a.tenure})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>aa(a,"ncd"),className:"flex items-center gap-1 px-3 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:[(0,b.jsx)(f.FiEdit,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>ab(a.id,"ncd"),className:"flex items-center gap-1 px-3 py-1 bg-rose-500/20 border border-rose-500/30 text-rose-400 rounded-lg text-xs hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]},a.id))})})]}),"bondsFD"===t&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-amber-400",children:["Bonds FD (",l.length,")"]}),(0,b.jsxs)("button",{onClick:()=>ad("fd"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add New FD"]})]}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:0===l.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiShield,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No FDs found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first FD to get started."}),(0,b.jsxs)("button",{onClick:()=>ad("fd"),className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors mx-auto",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add Your First FD"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(a=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-colors",children:[a.image_url&&(0,b.jsx)("div",{className:"h-40 bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:ae(a.image_url,"bonds-images")||"",alt:a.bank_name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-2",children:a.bank_name}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-300 mb-4",children:[a.interest_rate&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Interest Rate:"}),(0,b.jsxs)("span",{className:"text-green-400",children:[a.interest_rate,"%"]})]}),a.tenure&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Tenure:"}),(0,b.jsx)("span",{className:"text-blue-400",children:a.tenure})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>aa(a,"fd"),className:"flex items-center gap-1 px-3 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:[(0,b.jsx)(f.FiEdit,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>ab(a.id,"fd"),className:"flex items-center gap-1 px-3 py-1 bg-rose-500/20 border border-rose-500/30 text-rose-400 rounded-lg text-xs hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]},a.id))})})]}),(a.length>0||h.length>0||j.length>0||l.length>0)&&(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["Last updated: ",new Date().toLocaleString()]})})]})})}}];

//# sourceMappingURL=mokshainvestment_app_admin_page_tsx_f006edf3._.js.map