module.exports=[88833,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(62932),c=a.i(10306),d=a.i(9402),e=a.i(56855),f=a.i(27589);let g=(0,d.createClient)("https://fouathcllogchmgagguq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZvdWF0aGNsbG9nY2htZ2FnZ3VxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcyMzIzMTEsImV4cCI6MjA3MjgwODMxMX0.y9rOlWdVGnA-vCflrTys4IEROvp9v18qBd46wRwg2oM");function h(){let[a,d]=(0,c.useState)([]),[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)([]),[l,m]=(0,c.useState)([]),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(""),[t,u]=(0,c.useState)("leads"),[v,w]=(0,c.useState)({title:"",description:"",start_date:"",end_date:"",image_file:null}),[x,y]=(0,c.useState)({company_name:"",issue_size:"",interest_rate:"",tenure:"",image_file:null}),[z,A]=(0,c.useState)({bank_name:"",interest_rate:"",tenure:"",image_file:null}),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)([]),[L,M]=(0,c.useState)([]),N=a=>{console.log(`ðŸ” ${a}`),M(b=>[...b.slice(-9),`${new Date().toLocaleTimeString()}: ${a}`])},O=async()=>{try{N("Checking authentication...");let{data:a,error:b}=await g.auth.getUser();if(b)return N(`Auth error: ${b.message}`),!1;return s(a.user?.email||""),N("Authentication successful"),!0}catch(a){return N(`Auth check failed: ${a.message}`),!1}};async function P(){try{o(!0),N("Fetching leads...");let{data:a,error:b}=await g.from("leads").select("*").order("created_at",{ascending:!1});b?(N(`Leads fetch error: ${b.message}`),console.error("Error fetching leads:",b)):(N(`Fetched ${a?.length||0} leads`),d(a||[]))}catch(a){N(`Leads fetch exception: ${a.message}`),console.error("Error in fetchLeads:",a)}finally{o(!1),q(!1)}}async function Q(){try{N("Fetching NFO data...");let{data:a,error:b}=await g.from("upcoming_nfo").select("*").order("start_date",{ascending:!0});b?(N(`NFO fetch error: ${b.message}`),console.error("Error fetching NFO data:",b)):(N(`Fetched ${a?.length||0} NFOs`),i(a||[]))}catch(a){N(`NFO fetch exception: ${a.message}`),console.error("Error in fetchNFOData:",a)}}async function R(){try{N("Fetching Bonds NCD data...");let{data:a,error:b}=await g.from("bonds_ncd").select("*").order("created_at",{ascending:!1});b?(N(`Bonds NCD fetch error: ${b.message}`),console.error("Error fetching Bonds NCD data:",b)):(N(`Fetched ${a?.length||0} Bonds NCD`),k(a||[]))}catch(a){N(`Bonds NCD fetch exception: ${a.message}`),console.error("Error in fetchBondsNCD:",a)}}async function S(){try{N("Fetching Bonds FD data...");let{data:a,error:b}=await g.from("bonds_fd").select("*").order("created_at",{ascending:!1});b?(N(`Bonds FD fetch error: ${b.message}`),console.error("Error fetching Bonds FD data:",b)):(N(`Fetched ${a?.length||0} Bonds FD`),m(a||[]))}catch(a){N(`Bonds FD fetch exception: ${a.message}`),console.error("Error in fetchBondsFD:",a)}}async function T(){q(!0),N("Manual refresh triggered"),await P(),await Q(),await R(),await S()}async function U(b,c){try{N(`Toggling contact status for lead ${b}`);let{error:e}=await g.from("leads").update({is_contacted:!c}).eq("id",b);e?(N(`Contact status update error: ${e.message}`),console.error("Error updating lead:",e)):(N("Contact status updated successfully"),d(a.map(a=>a.id===b?{...a,is_contacted:!c}:a)))}catch(a){N(`Contact status exception: ${a.message}`),console.error("Error toggling contact status:",a)}}(0,c.useEffect)(()=>{O().then(a=>{a||(window.location.href="/admin/login")}),P(),Q(),R(),S()},[]);let V=async(a,b)=>{let c=a.name.split(".").pop(),d=`${Math.random().toString(36).substring(2)}_${Date.now()}.${c}`;N(`Uploading image to ${b}: ${d} (${a.size} bytes)`);let{data:e,error:f}=await g.storage.from(b).upload(d,a,{cacheControl:"3600",upsert:!1});if(f)throw N(`Image upload failed: ${f.message}`),console.error("âŒ Storage upload error:",f),Error(`Failed to upload image: ${f.message}`);return N("Image uploaded successfully"),console.log("âœ… Image uploaded successfully:",e?.path),d},W=async a=>{if(a.preventDefault(),N("NFO form submission started"),(()=>{let a=[];return v.title.trim()||a.push("Title is required"),D||v.image_file||a.push("Image is required for new NFOs"),v.image_file&&(["image/jpeg","image/jpg","image/png","image/webp"].includes(v.image_file.type)||a.push("Please upload a valid image (JPEG, PNG, or WebP)"),v.image_file.size>5242880&&a.push("Image size should be less than 5MB")),K(a),a.length>0&&N(`NFO Form validation failed: ${a.join(", ")}`),0===a.length})())try{let a;C(!0),K([]);let b=null;if(v.image_file)try{b=await V(v.image_file,"nfo-images")}catch(a){N(`Image upload error in submit: ${a.message}`),K([`Image upload failed: ${a.message}`]),C(!1);return}else if(D){let a=h.find(a=>a.id===D);b=a?.image_url||null,N(`Using existing image: ${b}`)}let c={title:v.title,description:v.description||null,start_date:v.start_date||null,end_date:v.end_date||null,image_url:b};if(N(`Saving NFO data: ${JSON.stringify(c)}`),D?(N(`Updating existing NFO: ${D}`),a=await g.from("upcoming_nfo").update(c).eq("id",D)):(N("Creating new NFO"),a=await g.from("upcoming_nfo").insert([{...c,created_at:new Date().toISOString()}])),a.error)throw N(`Database operation failed: ${a.error.message}`),Error(a.error.message);N("NFO saved successfully"),_(),await Q(),alert(D?"NFO updated successfully!":"NFO created successfully!")}catch(a){N(`NFO submission failed: ${a.message}`),K([a.message])}finally{C(!1)}},X=async a=>{if(a.preventDefault(),N("Bonds NCD form submission started"),(()=>{let a=[];return x.company_name.trim()||a.push("Company name is required"),D||x.image_file||a.push("Image is required for new NCDs"),x.image_file&&(["image/jpeg","image/jpg","image/png","image/webp"].includes(x.image_file.type)||a.push("Please upload a valid image (JPEG, PNG, or WebP)"),x.image_file.size>5242880&&a.push("Image size should be less than 5MB")),K(a),0===a.length})())try{let a;C(!0),K([]);let b=null;if(x.image_file)try{b=await V(x.image_file,"bonds-images")}catch(a){K([`Image upload failed: ${a.message}`]),C(!1);return}else if(D){let a=j.find(a=>a.id===D);b=a?.image_url||null}let c={company_name:x.company_name,issue_size:x.issue_size||null,interest_rate:x.interest_rate?parseFloat(x.interest_rate):null,tenure:x.tenure||null,image_url:b};if((a=D?await g.from("bonds_ncd").update(c).eq("id",D):await g.from("bonds_ncd").insert([{...c,created_at:new Date().toISOString()}])).error)throw Error(a.error.message);_(),await R(),alert(D?"NCD updated successfully!":"NCD created successfully!")}catch(a){K([a.message])}finally{C(!1)}},Y=async a=>{if(a.preventDefault(),N("Bonds FD form submission started"),(()=>{let a=[];return z.bank_name.trim()||a.push("Bank name is required"),D||z.image_file||a.push("Image is required for new FDs"),z.image_file&&(["image/jpeg","image/jpg","image/png","image/webp"].includes(z.image_file.type)||a.push("Please upload a valid image (JPEG, PNG, or WebP)"),z.image_file.size>5242880&&a.push("Image size should be less than 5MB")),K(a),0===a.length})())try{let a;C(!0),K([]);let b=null;if(z.image_file)try{b=await V(z.image_file,"bonds-images")}catch(a){K([`Image upload failed: ${a.message}`]),C(!1);return}else if(D){let a=l.find(a=>a.id===D);b=a?.image_url||null}let c={bank_name:z.bank_name,interest_rate:z.interest_rate?parseFloat(z.interest_rate):null,tenure:z.tenure||null,image_url:b};if((a=D?await g.from("bonds_fd").update(c).eq("id",D):await g.from("bonds_fd").insert([{...c,created_at:new Date().toISOString()}])).error)throw Error(a.error.message);_(),await S(),alert(D?"FD updated successfully!":"FD created successfully!")}catch(a){K([a.message])}finally{C(!1)}},Z=(a,b)=>{N(`Editing ${b}: ${a.title||a.company_name||a.bank_name}`),"nfo"===b?w({title:a.title,description:a.description||"",start_date:a.start_date?a.start_date.split("T")[0]:"",end_date:a.end_date?a.end_date.split("T")[0]:"",image_file:null}):"ncd"===b?y({company_name:a.company_name,issue_size:a.issue_size||"",interest_rate:a.interest_rate?.toString()||"",tenure:a.tenure||"",image_file:null}):"fd"===b&&A({bank_name:a.bank_name,interest_rate:a.interest_rate?.toString()||"",tenure:a.tenure||"",image_file:null}),E(a.id),G(b),I(!0),K([])},$=async(a,b)=>{if(confirm("Are you sure you want to delete this item?"))try{N(`Deleting ${b}: ${a}`);let{error:c}=await g.from("nfo"===b?"upcoming_nfo":"ncd"===b?"bonds_ncd":"bonds_fd").delete().eq("id",a);if(c)throw c;"nfo"===b?await Q():"ncd"===b?await R():"fd"===b&&await S(),alert("Item deleted successfully!")}catch(a){console.error("Error deleting item:",a),alert(`Error deleting item: ${a.message||"Please try again."}`)}},_=()=>{w({title:"",description:"",start_date:"",end_date:"",image_file:null}),y({company_name:"",issue_size:"",interest_rate:"",tenure:"",image_file:null}),A({bank_name:"",interest_rate:"",tenure:"",image_file:null}),E(null),G(null),I(!1),K([])},aa=a=>{_(),G(a),I(!0)},ab=(a,b)=>{if(!a)return null;let c=a;c.includes("/")&&(c=c.split("/").pop()||c),c=c.replace(`${b}/`,"");let{data:d}=g.storage.from(b).getPublicUrl(c);return d.publicUrl};async function ac(){try{let{error:a}=await g.auth.signOut();if(a)return void console.error("Error signing out:",a.message);window.location.href="/admin/login"}catch(a){console.error("Sign out error:",a)}}let ad=a.length,ae=a.filter(a=>a.is_contacted).length,af=ad-ae,ag=ad>0?ae/ad*100:0;return(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 p-4 pt-20",children:(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-7xl mx-auto",children:[(0,b.jsx)("div",{className:"mb-4 p-4 bg-blue-500/10 border border-blue-500/20 rounded-lg",children:(0,b.jsxs)("details",{children:[(0,b.jsx)("summary",{className:"cursor-pointer text-blue-400 font-semibold",children:"Debug Info (Click to expand)"}),(0,b.jsx)("div",{className:"mt-2 text-xs text-blue-300 max-h-32 overflow-y-auto",children:L.map((a,c)=>(0,b.jsx)("div",{className:"font-mono",children:a},c))})]})}),(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[(0,b.jsxs)("div",{className:"mb-4 lg:mb-0",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-amber-400 mb-2",children:"Admin Dashboard"}),(0,b.jsxs)("p",{className:"text-slate-300 text-lg",children:["Welcome back, ",(0,b.jsx)("span",{className:"text-white font-semibold",children:r})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:T,disabled:p,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-slate-300 hover:bg-white/10 transition-colors disabled:opacity-50",children:[(0,b.jsx)(f.FiRefreshCw,{className:`w-4 h-4 ${p?"animate-spin":""}`}),"Refresh"]}),(0,b.jsxs)("button",{onClick:ac,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-rose-500/20 border border-rose-500/30 text-rose-400 hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiLogOut,{className:"w-4 h-4"}),"Sign Out"]})]})]}),(0,b.jsxs)("div",{className:"flex space-x-1 mb-8 bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-1 max-w-2xl overflow-x-auto",children:[(0,b.jsxs)("button",{onClick:()=>u("leads"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-colors flex-shrink-0 text-center ${"leads"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiUser,{className:"w-4 h-4"}),"Leads (",ad,")"]}),(0,b.jsxs)("button",{onClick:()=>u("nfo"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-colors flex-shrink-0 text-center ${"nfo"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiImage,{className:"w-4 h-4"}),"NFOs (",h.length,")"]}),(0,b.jsxs)("button",{onClick:()=>u("bondsNCD"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-colors flex-shrink-0 text-center ${"bondsNCD"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiTrendingUp,{className:"w-4 h-4"}),"Bonds NCD (",j.length,")"]}),(0,b.jsxs)("button",{onClick:()=>u("bondsFD"),className:`flex items-center gap-2 px-4 py-2 rounded-xl transition-colors flex-shrink-0 text-center ${"bondsFD"===t?"bg-amber-500/20 text-amber-400 border border-amber-500/30":"text-slate-400 hover:text-white"}`,children:[(0,b.jsx)(f.FiShield,{className:"w-4 h-4"}),"Bonds FD (",l.length,")"]})]}),J.length>0&&(0,b.jsxs)("div",{className:"bg-rose-500/20 border border-rose-500/30 rounded-2xl p-4 mb-6",children:[(0,b.jsx)("h3",{className:"text-rose-400 font-semibold mb-2",children:"Error:"}),(0,b.jsx)("ul",{className:"text-rose-300 text-sm list-disc list-inside",children:J.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]}),(()=>{if(!H&&!F)return null;let a={nfo:{title:D?"Edit NFO":"Add New NFO",onSubmit:W,fields:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"NFO Title *"}),(0,b.jsx)("input",{type:"text",value:v.title,onChange:a=>w({...v,title:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter NFO title",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image ",!D&&"*"]}),(0,b.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png, image/webp",onChange:a=>{w({...v,image_file:a.target.files?.[0]||null}),K([])},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-amber-500/20 file:text-amber-400 hover:file:bg-amber-500/30 transition-colors",required:!D}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Required for new NFOs. Max 5MB. Supported: JPEG, PNG, WebP",D&&(0,b.jsx)("span",{className:"text-amber-400 ml-1",children:"(Leave empty to keep current image)"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Description"}),(0,b.jsx)("textarea",{value:v.description,onChange:a=>w({...v,description:a.target.value}),rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter NFO description..."})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:v.start_date,onChange:a=>w({...v,start_date:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-amber-500/50 transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:v.end_date,onChange:a=>w({...v,end_date:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white focus:outline-none focus:border-amber-500/50 transition-colors"})]})]})]})},ncd:{title:D?"Edit NCD":"Add New NCD",onSubmit:X,fields:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Company Name *"}),(0,b.jsx)("input",{type:"text",value:x.company_name,onChange:a=>y({...x,company_name:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter company name",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Issue Size"}),(0,b.jsx)("input",{type:"text",value:x.issue_size,onChange:a=>y({...x,issue_size:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., â‚¹500 Cr"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Interest Rate (%)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:x.interest_rate,onChange:a=>y({...x,interest_rate:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 8.5"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Tenure"}),(0,b.jsx)("input",{type:"text",value:x.tenure,onChange:a=>y({...x,tenure:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 3 years"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image ",!D&&"*"]}),(0,b.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png, image/webp",onChange:a=>{y({...x,image_file:a.target.files?.[0]||null}),K([])},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-amber-500/20 file:text-amber-400 hover:file:bg-amber-500/30 transition-colors",required:!D}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Required for new NCDs. Max 5MB. Supported: JPEG, PNG, WebP",D&&(0,b.jsx)("span",{className:"text-amber-400 ml-1",children:"(Leave empty to keep current image)"})]})]})]})},fd:{title:D?"Edit FD":"Add New FD",onSubmit:Y,fields:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Bank Name *"}),(0,b.jsx)("input",{type:"text",value:z.bank_name,onChange:a=>A({...z,bank_name:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"Enter bank name",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Interest Rate (%)"}),(0,b.jsx)("input",{type:"number",step:"0.01",value:z.interest_rate,onChange:a=>A({...z,interest_rate:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 7.2"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:"Tenure"}),(0,b.jsx)("input",{type:"text",value:z.tenure,onChange:a=>A({...z,tenure:a.target.value}),className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-slate-400 focus:outline-none focus:border-amber-500/50 transition-colors",placeholder:"e.g., 1-3 years"})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsxs)("label",{className:"block text-slate-300 text-sm font-medium mb-2",children:["Image ",!D&&"*"]}),(0,b.jsx)("input",{type:"file",accept:"image/jpeg, image/jpg, image/png, image/webp",onChange:a=>{A({...z,image_file:a.target.files?.[0]||null}),K([])},className:"w-full px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-amber-500/20 file:text-amber-400 hover:file:bg-amber-500/30 transition-colors",required:!D}),(0,b.jsxs)("p",{className:"text-slate-400 text-xs mt-2",children:["Required for new FDs. Max 5MB. Supported: JPEG, PNG, WebP",D&&(0,b.jsx)("span",{className:"text-amber-400 ml-1",children:"(Leave empty to keep current image)"})]})]})]})}}[F];return(0,b.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6 mb-8",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-amber-400 mb-6",children:a.title}),(0,b.jsxs)("form",{onSubmit:a.onSubmit,className:"space-y-6",children:[a.fields,(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsxs)("button",{type:"submit",disabled:B,className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(f.FiUpload,{className:"w-4 h-4"}),B?"Saving...":D?"Update":"Create"]}),(0,b.jsx)("button",{type:"button",onClick:_,className:"px-6 py-3 bg-white/5 border border-white/10 text-slate-300 rounded-xl hover:bg-white/10 transition-colors",children:"Cancel"})]})]})]})})(),"leads"===t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Total Leads"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-white mt-2",children:ad})]}),(0,b.jsx)("div",{className:"p-3 bg-amber-500/20 rounded-xl",children:(0,b.jsx)(f.FiUser,{className:"w-6 h-6 text-amber-400"})})]})}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Contacted"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-green-400 mt-2",children:ae})]}),(0,b.jsx)("div",{className:"p-3 bg-green-500/20 rounded-xl",children:(0,b.jsx)(f.FiCheckCircle,{className:"w-6 h-6 text-green-400"})})]})}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"New Leads"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-amber-400 mt-2",children:af})]}),(0,b.jsx)("div",{className:"p-3 bg-blue-500/20 rounded-xl",children:(0,b.jsx)(f.FiClock,{className:"w-6 h-6 text-blue-400"})})]})}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-slate-400 text-sm font-medium",children:"Contact Rate"}),(0,b.jsxs)("p",{className:"text-3xl font-bold text-purple-400 mt-2",children:[ag.toFixed(1),"%"]})]}),(0,b.jsx)("div",{className:"p-3 bg-purple-500/20 rounded-xl",children:(0,b.jsx)(f.FiFileText,{className:"w-6 h-6 text-purple-400"})})]})})]}),(0,b.jsxs)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-4 md:p-6 overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-amber-400",children:"Recent Leads"}),(0,b.jsxs)("div",{className:"text-slate-400 text-sm",children:["Showing ",a.length," lead",1!==a.length?"s":""]})]}),n?(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-400"}),(0,b.jsx)("span",{className:"text-slate-300 text-lg",children:"Loading leads..."})]})}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiFileText,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No leads found"}),(0,b.jsx)("p",{className:"text-slate-400",children:"Leads will appear here once customers submit the contact form."})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-white/10",children:[(0,b.jsx)("th",{className:"text-left p-3 md:p-4 text-slate-300 font-semibold",children:"Customer"}),(0,b.jsx)("th",{className:"text-left p-3 md:p-4 text-slate-300 font-semibold hidden md:table-cell",children:"Contact"}),(0,b.jsx)("th",{className:"text-left p-3 md:p-4 text-slate-300 font-semibold",children:"Requirement"}),(0,b.jsx)("th",{className:"text-left p-3 md:p-4 text-slate-300 font-semibold",children:"Status"}),(0,b.jsx)("th",{className:"text-left p-3 md:p-4 text-slate-300 font-semibold hidden lg:table-cell",children:"Date"}),(0,b.jsx)("th",{className:"text-left p-3 md:p-4 text-slate-300 font-semibold",children:"Actions"})]})}),(0,b.jsx)("tbody",{children:a.map((a,c)=>(0,b.jsxs)(e.motion.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*c},className:"border-b border-white/5 hover:bg-white/2 transition-colors",children:[(0,b.jsx)("td",{className:"p-3 md:p-4",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 md:w-10 md:h-10 bg-amber-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:(0,b.jsx)(f.FiUser,{className:"w-4 h-4 md:w-5 md:h-5 text-amber-400"})}),(0,b.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,b.jsx)("div",{className:"text-white font-semibold text-sm md:text-base truncate",children:a.name}),(0,b.jsx)("div",{className:"text-slate-400 text-xs md:hidden",children:a.phone}),a.email&&(0,b.jsx)("div",{className:"text-slate-400 text-xs md:hidden truncate",children:a.email})]})]})}),(0,b.jsx)("td",{className:"p-3 md:p-4 hidden md:table-cell",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-slate-300",children:[(0,b.jsx)(f.FiPhone,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"font-mono text-sm",children:a.phone})]}),a.email&&(0,b.jsxs)("div",{className:"flex items-center space-x-2 text-slate-400",children:[(0,b.jsx)(f.FiMail,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm truncate max-w-[150px]",children:a.email})]})]})}),(0,b.jsx)("td",{className:"p-3 md:p-4",children:a.requirement?(0,b.jsx)("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${{Insurance:"bg-blue-500/20 text-blue-400 border-blue-500/30",Mediclaim:"bg-green-500/20 text-green-400 border-green-500/30",Loan:"bg-purple-500/20 text-purple-400 border-purple-500/30","Mutual Funds":"bg-amber-500/20 text-amber-400 border-amber-500/30",SIP:"bg-indigo-500/20 text-indigo-400 border-indigo-500/30","Pension Planning":"bg-pink-500/20 text-pink-400 border-pink-500/30","Child Plans":"bg-cyan-500/20 text-cyan-400 border-cyan-500/30","Wealth Advisory":"bg-orange-500/20 text-orange-400 border-orange-500/30"}[a.requirement]||"bg-gray-500/20 text-gray-400 border-gray-500/30"}`,children:(0,b.jsx)("span",{className:"truncate max-w-[80px] md:max-w-none",children:a.requirement})}):(0,b.jsx)("span",{className:"text-slate-400 text-xs",children:"Not specified"})}),(0,b.jsx)("td",{className:"p-3 md:p-4",children:(0,b.jsx)("button",{onClick:()=>U(a.id,a.is_contacted||!1),className:`inline-flex items-center px-2 py-1 md:px-3 md:py-1 rounded-full text-xs md:text-sm font-medium border transition-colors ${a.is_contacted?"bg-green-500/20 text-green-400 border-green-500/30 hover:bg-green-500/30":"bg-amber-500/20 text-amber-400 border-amber-500/30 hover:bg-amber-500/30"}`,children:a.is_contacted?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.FiCheckCircle,{className:"w-3 h-3 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"Contacted"}),(0,b.jsx)("span",{className:"sm:hidden",children:"Done"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.FiClock,{className:"w-3 h-3 mr-1"}),(0,b.jsx)("span",{className:"hidden sm:inline",children:"New Lead"}),(0,b.jsx)("span",{className:"sm:hidden",children:"New"})]})})}),(0,b.jsx)("td",{className:"p-3 md:p-4 hidden lg:table-cell",children:(0,b.jsx)("div",{className:"text-slate-300 text-sm",children:a.created_at?new Date(a.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown"})}),(0,b.jsx)("td",{className:"p-3 md:p-4",children:(0,b.jsxs)("div",{className:"flex space-x-1 md:space-x-2",children:[(0,b.jsx)("button",{onClick:()=>U(a.id,a.is_contacted||!1),className:`p-2 rounded-lg border transition-colors ${a.is_contacted?"bg-amber-500/20 text-amber-400 border-amber-500/30 hover:bg-amber-500/30":"bg-green-500/20 text-green-400 border-green-500/30 hover:bg-green-500/30"}`,title:a.is_contacted?"Mark as New":"Mark as Contacted",children:a.is_contacted?(0,b.jsx)(f.FiXCircle,{className:"w-3 h-3 md:w-4 md:h-4"}):(0,b.jsx)(f.FiCheckCircle,{className:"w-3 h-3 md:w-4 md:h-4"})}),(0,b.jsx)("div",{className:"md:hidden text-slate-400 text-xs flex items-center px-2",children:a.created_at?new Date(a.created_at).toLocaleDateString("en-US",{month:"short",day:"numeric"}):"N/A"})]})})]},a.id))})]})})]})]}),"nfo"===t&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-amber-400",children:["Active NFOs (",h.length,")"]}),(0,b.jsxs)("button",{onClick:()=>aa("nfo"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Create New NFO"]})]}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:0===h.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiImage,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No NFOs found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Create your first NFO to get started."}),(0,b.jsxs)("button",{onClick:()=>aa("nfo"),className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors mx-auto",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Create Your First NFO"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(a=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-colors",children:[a.image_url&&(0,b.jsx)("div",{className:"h-40 bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:ab(a.image_url,"nfo-images")||"",alt:a.title,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-2",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-slate-300 text-sm mb-3 line-clamp-2",children:a.description}),(0,b.jsxs)("div",{className:"space-y-1 text-xs text-slate-400 mb-4",children:[(0,b.jsxs)("div",{children:["Start: ",a.start_date?new Date(a.start_date).toLocaleDateString():"TBA"]}),(0,b.jsxs)("div",{children:["End: ",a.end_date?new Date(a.end_date).toLocaleDateString():"TBA"]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>Z(a,"nfo"),className:"flex items-center gap-1 px-3 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:[(0,b.jsx)(f.FiEdit,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>$(a.id,"nfo"),className:"flex items-center gap-1 px-3 py-1 bg-rose-500/20 border border-rose-500/30 text-rose-400 rounded-lg text-xs hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]},a.id))})})]}),"bondsNCD"===t&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-amber-400",children:["Bonds NCD (",j.length,")"]}),(0,b.jsxs)("button",{onClick:()=>aa("ncd"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add New NCD"]})]}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:0===j.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiTrendingUp,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No NCDs found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first NCD to get started."}),(0,b.jsxs)("button",{onClick:()=>aa("ncd"),className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors mx-auto",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add Your First NCD"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(a=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-colors",children:[a.image_url&&(0,b.jsx)("div",{className:"h-40 bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:ab(a.image_url,"bonds-images")||"",alt:a.company_name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-2",children:a.company_name}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-300 mb-4",children:[a.issue_size&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Issue Size:"}),(0,b.jsx)("span",{className:"text-amber-400",children:a.issue_size})]}),a.interest_rate&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Interest Rate:"}),(0,b.jsxs)("span",{className:"text-green-400",children:[a.interest_rate,"%"]})]}),a.tenure&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Tenure:"}),(0,b.jsx)("span",{className:"text-blue-400",children:a.tenure})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>Z(a,"ncd"),className:"flex items-center gap-1 px-3 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:[(0,b.jsx)(f.FiEdit,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>$(a.id,"ncd"),className:"flex items-center gap-1 px-3 py-1 bg-rose-500/20 border border-rose-500/30 text-rose-400 rounded-lg text-xs hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]},a.id))})})]}),"bondsFD"===t&&(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,b.jsxs)("h2",{className:"text-2xl font-bold text-amber-400",children:["Bonds FD (",l.length,")"]}),(0,b.jsxs)("button",{onClick:()=>aa("fd"),className:"flex items-center gap-2 px-4 py-2 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add New FD"]})]}),(0,b.jsx)("div",{className:"bg-white/5 backdrop-blur-lg border border-white/10 rounded-2xl p-6",children:0===l.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(f.FiShield,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold text-slate-300 mb-2",children:"No FDs found"}),(0,b.jsx)("p",{className:"text-slate-400 mb-6",children:"Add your first FD to get started."}),(0,b.jsxs)("button",{onClick:()=>aa("fd"),className:"flex items-center gap-2 px-6 py-3 bg-amber-500/20 border border-amber-500/30 text-amber-400 rounded-xl hover:bg-amber-500/30 transition-colors mx-auto",children:[(0,b.jsx)(f.FiPlus,{className:"w-4 h-4"}),"Add Your First FD"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(a=>(0,b.jsxs)(e.motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white/5 border border-white/10 rounded-2xl overflow-hidden hover:bg-white/10 transition-colors",children:[a.image_url&&(0,b.jsx)("div",{className:"h-40 bg-slate-800 overflow-hidden",children:(0,b.jsx)("img",{src:ab(a.image_url,"bonds-images")||"",alt:a.bank_name,className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsx)("h3",{className:"font-bold text-white text-lg mb-2 line-clamp-2",children:a.bank_name}),(0,b.jsxs)("div",{className:"space-y-2 text-sm text-slate-300 mb-4",children:[a.interest_rate&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Interest Rate:"}),(0,b.jsxs)("span",{className:"text-green-400",children:[a.interest_rate,"%"]})]}),a.tenure&&(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Tenure:"}),(0,b.jsx)("span",{className:"text-blue-400",children:a.tenure})]})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>Z(a,"fd"),className:"flex items-center gap-1 px-3 py-1 bg-blue-500/20 border border-blue-500/30 text-blue-400 rounded-lg text-xs hover:bg-blue-500/30 transition-colors",children:[(0,b.jsx)(f.FiEdit,{className:"w-3 h-3"}),"Edit"]}),(0,b.jsxs)("button",{onClick:()=>$(a.id,"fd"),className:"flex items-center gap-1 px-3 py-1 bg-rose-500/20 border border-rose-500/30 text-rose-400 rounded-lg text-xs hover:bg-rose-500/30 transition-colors",children:[(0,b.jsx)(f.FiTrash2,{className:"w-3 h-3"}),"Delete"]})]})]})]},a.id))})})]}),(a.length>0||h.length>0||j.length>0||l.length>0)&&(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsxs)("p",{className:"text-slate-400 text-sm",children:["Last updated: ",new Date().toLocaleString()]})})]})})}}];

//# sourceMappingURL=mokshainvestment_app_admin_page_tsx_f006edf3._.js.map