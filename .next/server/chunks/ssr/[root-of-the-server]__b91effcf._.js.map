{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/app/admin/layout.tsx"],"sourcesContent":["import { redirect } from 'next/navigation'\r\nimport { createServerComponentClient } from '@supabase/auth-helpers-nextjs'\r\nimport { cookies } from 'next/headers'\r\n\r\nexport default async function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode\r\n}) {\r\n  const supabase = createServerComponentClient({ cookies })\r\n  \r\n  const {\r\n    data: { session },\r\n  } = await supabase.auth.getSession()\r\n\r\n  // If no session and we're not on login page, redirect to login\r\n  if (!session) {\r\n    // Allow login page to be accessible\r\n    if (typeof window === 'undefined') {\r\n      // Server-side: check the path\r\n      const cookiesStore = cookies()\r\n      const path = cookiesStore.get('next-url')?.value || ''\r\n      if (!path.includes('/admin/login')) {\r\n        redirect('/admin/login')\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\r\n      {children}\r\n    </div>\r\n  )\r\n}"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AACA;;;;;AAEe,eAAe,YAAY,EACxC,QAAQ,EAGT;IACC,MAAM,WAAW,IAAA,2NAA2B,EAAC;QAAE,SAAA,8JAAO;IAAC;IAEvD,MAAM,EACJ,MAAM,EAAE,OAAO,EAAE,EAClB,GAAG,MAAM,SAAS,IAAI,CAAC,UAAU;IAElC,+DAA+D;IAC/D,IAAI,CAAC,SAAS;QACZ,oCAAoC;QACpC,wCAAmC;YACjC,8BAA8B;YAC9B,MAAM,eAAe,IAAA,8JAAO;YAC5B,MAAM,OAAO,aAAa,GAAG,CAAC,aAAa,SAAS;YACpD,IAAI,CAAC,KAAK,QAAQ,CAAC,iBAAiB;gBAClC,IAAA,qNAAQ,EAAC;YACX;QACF;IACF;IAEA,qBACE,kQAAC;QAAI,WAAU;kBACZ;;;;;;AAGP","debugId":null}}]
}