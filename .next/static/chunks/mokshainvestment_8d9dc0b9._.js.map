{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/lib/supabaseClient.ts"],"sourcesContent":["// lib/supabaseClient.ts\r\n\"use client\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\n\r\nconst URL = process.env.NEXT_PUBLIC_SUPABASE_URL!;\r\nconst ANON = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!;\r\n\r\nexport const supabase = createClient(URL, ANON, {\r\n  auth: {\r\n    persistSession: true,\r\n    autoRefreshToken: true,\r\n    detectSessionInUrl: false\r\n  },\r\n});"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AAIZ;AAFZ;AADA;;AAGA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,8NAAY,EAAC,KAAK,MAAM;IAC9C,MAAM;QACJ,gBAAgB;QAChB,kBAAkB;QAClB,oBAAoB;IACtB;AACF","debugId":null}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Tarak/Desktop/mokshainvestment/mokshainvestment/app/admin/login/page.tsx"],"sourcesContent":["\"use client\";\r\nimport React, { useState } from \"react\";\r\nimport { supabase } from \"@/lib/supabaseClient\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nexport default function AdminLoginPage() {\r\nÂ  const [email, setEmail] = useState(\"\");\r\nÂ  const [password, setPassword] = useState(\"\");\r\nÂ  const [loading, setLoading] = useState(false);\r\nÂ  const [error, setError] = useState<string | null>(null);\r\n\r\nÂ  async function onSubmit(e: React.FormEvent) {\r\nÂ  Â  e.preventDefault();\r\nÂ  Â  setLoading(true);\r\nÂ  Â  setError(null);\r\n\r\nÂ  Â  try {\r\nÂ  Â  Â  console.log(\"ðŸŸ¡ Attempting Supabase login with:\", email);\r\n\r\nÂ  Â  Â  const { data, error } = await supabase.auth.signInWithPassword({\r\nÂ  Â  Â  Â  email: email.trim(),\r\nÂ  Â  Â  Â  password,\r\nÂ  Â  Â  });\r\n\r\nÂ  Â  Â  if (error) {\r\nÂ  Â  Â  Â  console.error(\"Supabase error:\", error.message);\r\nÂ  Â  Â  Â  setError(error.message);\r\n        setLoading(false); // Stop loading on error\r\nÂ  Â  Â  Â  return;\r\nÂ  Â  Â  }\r\n\r\nÂ  Â  Â  if (data?.session) {\r\nÂ  Â  Â  Â  console.log(\"âœ… Session created. Reloading page to trigger middleware redirect...\");\r\nÂ  Â  Â  Â  // Instead of a hard redirect, reload the page.\r\n        // The middleware will see the new session and redirect correctly.\r\nÂ  Â  Â  Â  window.location.reload();\r\nÂ  Â  Â  Â  return;\r\nÂ  Â  Â  }\r\n\r\n      // This case handles invalid credentials specifically\r\n      if (!data.session) {\r\n        setError(\"Invalid credentials. Please try again.\");\r\n      }\r\n      \r\nÂ  Â  } catch (err: any) {\r\nÂ  Â  Â  console.error(\"ðŸ”´ Login error:\", err);\r\nÂ  Â  Â  setError(err.message || \"An unexpected error occurred.\");\r\nÂ  Â  } finally {\r\nÂ  Â  Â  setLoading(false);\r\nÂ  Â  }\r\nÂ  }\r\n\r\nÂ  return (\r\nÂ  Â  <section className=\"max-w-xl mx-auto mt-12 px-4\">\r\nÂ  Â  Â  <motion.div\r\nÂ  Â  Â  Â  initial={{ opacity: 0, y: 8 }}\r\nÂ  Â  Â  Â  animate={{ opacity: 1, y: 0 }}\r\nÂ  Â  Â  Â  className=\"bg-white/6 backdrop-blur-lg border border-white/10 rounded-2xl p-8\"\r\nÂ  Â  Â  >\r\nÂ  Â  Â  Â  <h2 className=\"text-2xl font-extrabold text-amber-400 mb-2\">Admin Sign In</h2>\r\nÂ  Â  Â  Â  <p className=\"text-slate-300 mb-6\">\r\nÂ  Â  Â  Â  Â  Use your admin credentials to access the dashboard\r\nÂ  Â  Â  Â  </p>\r\n\r\nÂ  Â  Â  Â  <form onSubmit={onSubmit} className=\"space-y-4\">\r\nÂ  Â  Â  Â  Â  <div>\r\nÂ  Â  Â  Â  Â  Â  <label className=\"text-slate-300 text-sm font-medium mb-1 block\">Email</label>\r\nÂ  Â  Â  Â  Â  Â  <input\r\nÂ  Â  Â  Â  Â  Â  Â  type=\"email\"\r\nÂ  Â  Â  Â  Â  Â  Â  placeholder=\"admin@admin.com\"\r\nÂ  Â  Â  Â  Â  Â  Â  value={email}\r\nÂ  Â  Â  Â  Â  Â  Â  onChange={(e) => setEmail(e.target.value)}\r\nÂ  Â  Â  Â  Â  Â  Â  required\r\nÂ  Â  Â  Â  Â  Â  Â  className=\"w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400 focus:border-transparent\"\r\nÂ  Â  Â  Â  Â  Â  />\r\nÂ  Â  Â  Â  Â  </div>\r\nÂ  Â  Â  Â  Â  \r\nÂ  Â  Â  Â  Â  <div>\r\nÂ  Â  Â  Â  Â  Â  <label className=\"text-slate-300 text-sm font-medium mb-1 block\">Password</label>\r\nÂ  Â  Â  Â  Â  Â  <input\r\nÂ  Â  Â  Â  Â  Â  Â  type=\"password\"\r\nÂ  Â  Â  Â  Â  Â  Â  placeholder=\"Enter your password\"\r\nÂ  Â  Â  Â  Â  Â  Â  value={password}\r\nÂ  Â  Â  Â  Â  Â  Â  onChange={(e) => setPassword(e.target.value)}\r\nÂ  Â  Â  Â  Â  Â  Â  required\r\nÂ  Â  Â  Â  Â  Â  Â  className=\"w-full p-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-amber-400 focus:border-transparent\"\r\nÂ  Â  Â  Â  Â  Â  />\r\nÂ  Â  Â  Â  Â  </div>\r\nÂ  Â  Â  Â  Â  \r\nÂ  Â  Â  Â  Â  {error && (\r\nÂ  Â  Â  Â  Â  Â  <div className=\"p-3 rounded-lg bg-rose-500/10 border border-rose-500/20 text-rose-400 text-sm\">\r\nÂ  Â  Â  Â  Â  Â  Â  {error}\r\nÂ  Â  Â  Â  Â  Â  </div>\r\nÂ  Â  Â  Â  Â  )}\r\nÂ  Â  Â  Â  Â  \r\nÂ  Â  Â  Â  Â  <button\r\nÂ  Â  Â  Â  Â  Â  type=\"submit\"\r\nÂ  Â  Â  Â  Â  Â  disabled={loading}\r\nÂ  Â  Â  Â  Â  Â  className=\"w-full px-4 py-3 rounded-lg bg-amber-400 text-slate-900 font-semibold hover:bg-amber-300 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\nÂ  Â  Â  Â  Â  >\r\nÂ  Â  Â  Â  Â  Â  {loading ? (\r\nÂ  Â  Â  Â  Â  Â  Â  <div className=\"flex items-center justify-center\">\r\nÂ  Â  Â  Â  Â  Â  Â  Â  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-slate-900 mr-2\"></div>\r\nÂ  Â  Â  Â  Â  Â  Â  Â  Signing in...\r\nÂ  Â  Â  Â  Â  Â  Â  </div>\r\nÂ  Â  Â  Â  Â  Â  ) : (\r\nÂ  Â  Â  Â  Â  Â  Â  \"Sign In\"\r\nÂ  Â  Â  Â  Â  Â  )}\r\nÂ  Â  Â  Â  Â  </button>\r\nÂ  Â  Â  Â  </form>\r\n\r\nÂ  Â  Â  Â  <div className=\"mt-6 p-4 bg-white/5 rounded-lg border border-white/10\">\r\nÂ  Â  Â  Â  Â  <p className=\"text-slate-400 text-sm text-center\">\r\nÂ  Â  Â  Â  Â  Â  Use your Supabase admin credentials\r\nÂ  Â  Â  Â  Â  </p>\r\nÂ  Â  Â  Â  </div>\r\nÂ  Â  Â  </motion.div>\r\nÂ  Â  </section>\r\nÂ  );\r\n}"],"names":[],"mappings":";;;;;AACA;AACA;AACA;;;AAHA;;;;AAKe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6LAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6LAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,6LAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,6LAAQ,EAAgB;IAElD,eAAe,SAAS,CAAkB;QACxC,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACF,QAAQ,GAAG,CAAC,sCAAsC;YAElD,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,GAAG,MAAM,wJAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC;gBAC7D,OAAO,MAAM,IAAI;gBACjB;YACF;YAEA,IAAI,OAAO;gBACT,QAAQ,KAAK,CAAC,mBAAmB,MAAM,OAAO;gBAC9C,SAAS,MAAM,OAAO;gBACtB,WAAW,QAAQ,wBAAwB;gBAC3C;YACF;YAEA,IAAI,iBAAA,2BAAA,KAAM,OAAO,EAAE;gBACjB,QAAQ,GAAG,CAAC;gBACZ,+CAA+C;gBAC/C,kEAAkE;gBAClE,OAAO,QAAQ,CAAC,MAAM;gBACtB;YACF;YAEA,qDAAqD;YACrD,IAAI,CAAC,KAAK,OAAO,EAAE;gBACjB,SAAS;YACX;QAEF,EAAE,OAAO,KAAU;YACjB,QAAQ,KAAK,CAAC,mBAAmB;YACjC,SAAS,IAAI,OAAO,IAAI;QAC1B,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,iNAAC;QAAQ,WAAU;;YAA8B;0BAC/C,iNAAC,uMAAM,CAAC,GAAG;gBACT,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,SAAS;oBAAE,SAAS;oBAAG,GAAG;gBAAE;gBAC5B,WAAU;;oBACX;kCACC,iNAAC;wBAAG,WAAU;kCAA8C;;;;;;oBAAkB;kCAC9E,iNAAC;wBAAE,WAAU;kCAAsB;;;;;;oBAE/B;kCAEJ,iNAAC;wBAAK,UAAU;wBAAU,WAAU;;4BAAY;0CAC9C,iNAAC;;oCAAI;kDACH,iNAAC;wCAAM,WAAU;kDAAgD;;;;;;oCAAa;kDAC9E,iNAAC;wCACC,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;wCACxC,QAAQ;wCACR,WAAU;;;;;;oCACV;;;;;;;4BACE;0CAEN,iNAAC;;oCAAI;kDACH,iNAAC;wCAAM,WAAU;kDAAgD;;;;;;oCAAgB;kDACjF,iNAAC;wCACC,MAAK;wCACL,aAAY;wCACZ,OAAO;wCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;wCAC3C,QAAQ;wCACR,WAAU;;;;;;oCACV;;;;;;;4BACE;4BAEL,uBACC,iNAAC;gCAAI,WAAU;;oCAAgF;oCAC5F;oCAAM;;;;;;;4BAET;0CAEF,iNAAC;gCACC,MAAK;gCACL,UAAU;gCACV,WAAU;;oCACX;oCACE,wBACC,iNAAC;wCAAI,WAAU;;4CAAmC;0DAChD,iNAAC;gDAAI,WAAU;;;;;;4CAA2E;;;;;;+CAI5F;oCACA;;;;;;;4BACK;;;;;;;oBACJ;kCAEP,iNAAC;wBAAI,WAAU;;4BAAwD;0CACrE,iNAAC;gCAAE,WAAU;0CAAqC;;;;;;4BAE9C;;;;;;;oBACA;;;;;;;YACK;;;;;;;AAGnB;GAlHwB;KAAA","debugId":null}}]
}